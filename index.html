<!DOCTYPE html>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/themes/prism.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/autoloader/prism-autoloader.min.js"></script>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>Neconomics</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!link rel="shortcut icon" href="img/favicon.ico">
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap">
  </head>

  <body>
    <header id="header">
      <div class="site-title">
        <a href="index.html"><img src="img/logo.svg" alt="Neconomics"></a>
      </div>

      
    </header>

    <main>
      <div id="item" class="wrapper">
        <div class="item-image">
          <img src="img/item.jpg" alt="">
        </div>

        <div class="item-info">
          <h1 class="item-title">はじめに</h1>
          <p>
            - スマートフォンの普及や情報処理技術の発達によって、個人や企業などが膨大な量のデータを蓄積できるようになったため、そのような膨大なデータ（ビッグデータ）をうまく活用できれば、新たな価値を生み出すことができる。
ビッグデータを活用して有益な知見を見出すことができる手法を紹介していく。<br>
また、サイトを訪れることでデータ分析の手法を身に付け、その後も参照ができるように、アーカイブ的なサイトを目指し制作した。</p>
          <h1 class="item-title">目次</h1>
          <p>
            <a href="#title1">・なぜ解析にPythonを使うのか</a><br>
            <a href="#title2">・EDA（探索的データ解析）について</a><br>
            <a href="#title3">・分析</a><br>
            <a href="#title4">・重回帰分析</a><br>
            <a href="#title5">・LSTMについて</a><br>
            <a href="#title6">・まとめ</a><br>

          </p>
          <h1 class="item-title">
            <a name="title1">なぜ解析にPythonを使うのか</a>
          </h1>
          <p>Pythonは、幅広い用途で利用されているプログラミング言語であり、
          簡潔な文法、豊富なライブラリなどが特徴である。初心者にも扱いやすく、かつ様々な応用が利く言語といえる。<br>
          データ分析を支援するようなライブラリが豊富であるため、Pythonは汎用型の言語でありながらデータ分析の分野でよく用いられる。この言語を身に着けることができたら、自信での活用の幅も広がるだろう。</p>
          <h1 class="item-title">
            <a name="title2">EDA（探索的データ解析）について</a>
          </h1>
          <p>EDAとは、Explanatory Data Analysisの略で、日本語では「探索的データ分析」と訳される。<br>
          データの特徴を把握し、構造を理解することを目的に行うもので、パターンの発見、異常の特定、仮説のテスト、前提条件の確認などが行われる。
          利用するデータの中身を理解したり、分析の方針を決める上でとても重要な作業なので、データ分析においては欠かせないものとなっている。
          具体的には、データの確認（データ数・カラム・欠損値の確認など）、基本統計量の確認、相関関係の確認、データの可視化を行うものである。</p>
          <h1 class="item-title">
            <a name="title3">分析</a>
          </h1>
          <p>レギュラーガソリン価格について、関連すると考えられる、原油価格、月中平均為替相場、C重油価格、輸入物価指数を用いて分析していく<br>
            ここで、openpyxl、およびpandasというライブラリをもちいて、csvデータをインポートし、データフレームにした。<br>
            corrメソッドを用いて、それぞれのデータ同士の相関係数を表示した。相関係数は二つのデータ間の相関関係の強さを表す指標で、-1から+1までの値をとる。値が+1に近いほど両者の間に「正の相関がある」と言え、-1に近いほど「負の相関がある」と言える。

この分析の結果、「輸入物価指数（原油）」と「c重油価格」の間にはとても強い正の相関がある一方で「月中平均為替相場」と「レギュラーガソリン価格」との間にはあまり強い相関関係がないといえることが分かった。
<br> 次にdescribeメソッドをもちいて、各種基本統計量を表の形で表示させた。ここでは、上から「要素の個数」、「算術平均」、「標準偏差」、「最小値」、「第一四分位数」、「中央値」、「第三四分位数」、「最大値」が表示される。

基本統計量を確認することは、データの特徴を把握する上でとても重要である。例えば「輸入物価指数（b重油・c重油）」のデータについて、平均値と最大値を見てみるとおよそ４倍程度の差があることが分かった。データ全体から見てあまりにもかけ離れた値をとるデータを含めることは、統計分析を行う上で好ましくない場合があるため、そのようなデータについては標準偏差などを用いてそれが「外れ値」であるかを判断し、場合によってはそのデータを除外する必要がある。 <br>
これらの統計量を可視化し、ヒストグラムを表示させるライブラリを利用した結果、図のような散布図が得られた。相関関係についてはかなり如実に表れていることが可視化できた。 
    </p><br>
    <h1 class="item-title">
      <a name="title4">重回帰分析</a>
    </h1>
          <p>EDAで得られたデータをもとに解析方法を選択していくが、今回は、日付を除いたすべてのデータが量的データであることなどを鑑みて、重回帰分析とLSTMの二つの手法を用いた分析を行っていく。<br>
             重回帰分析とは、ある一つの目的変数に対して複数の説明変数があるとき、それら説明変数のうちどの変数がどの程度の影響を、目的変数に対して及ぼしているのかを測る分析手法である。今回の場合は、目的変数が「レギュラーガソリン価格」、説明変数がそれ以外のデータという風に設定した。
          </p>
          <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/themes/prism.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/autoloader/prism-autoloader.min.js"></script>

<!-- Line Number-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />

<!-- Line HighLight-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/line-highlight/prism-line-highlight.min.css" rel="stylesheet" />

<!-- Unescaped Markup-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/unescaped-markup/prism-unescaped-markup.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/unescaped-markup/prism-unescaped-markup.min.css" rel="stylesheet" />

<script type="text/plain" class="language-html line-numbers" data-line="1,2">
import statsmodels.api as sm
exp_cols = ['原油価格($/bbl)', '月中平均為替相場（USD/JPY）','c重油価格(\/kL)', '輸入物価指数（b重油・c重油）', '輸入物価指数（原油）']
target_col = ["レギュラーガソリン価格(\/L)"]    #説明変数・目的変数を設定
X = petrol[exp_cols]
X = sm.add_constant(X)
Y = petrol[target_col]

model = sm.OLS(Y, X)
result = model.fit()

result.summary()    #重回帰分析の結果を表示

</script>
<p>ここでは、statsmodelsという統計計算のライブラリを用いて分析を行った。Xに説明変数のデータ、Yに目的変数のデータを代入していくが、現状では回帰式のy切片が0の状態のため、正しい結果が出力されない。そこでsm.add_constant()関数を用いて、説明変数の行列に対してすべての値が1の列を追加する必要がある。<br>

  次に、普通の最小二乗法を用いるsm.OLS()関数の第一引数に目的変数、第二変数に説明変数を渡した。これで分析のモデルは完成したので、これをfit()関数で学習させ、summary()関数で結果を出力した。</p>
<img src="" alt="得られたヒストグラム">
<img src="" alt="得られたヒストグラム">
          <h1 class="item-title"><a name="title5">LSTMについて</a></h1>
          <p>説明文</p>
          <h1 class="item-title"><a name="title6">まとめ</a></h1>
          <p>説明文</p>
      </div>
    </main>

    <footer id="footer" class="wrapper">
      <p class="copyright">&copy; Neconomics</p>
    </footer>
  </body>
</html>
